---
import Base from '../layouts/Base.astro';
import { listArticles } from '../shared/content.js';
const articles = await listArticles();
---
<Base title="TransCrab" description="水淡如常，月照如初">
  <h1 class="brand">
    <img class="brand-mark" src="/assets/transcrab-mark.png" alt="" aria-hidden="true" />
    <span>TransCrab</span>
  </h1>
  <p class="meta">水淡如常，月照如初</p>

  {articles.length === 0 ? <p>暂无文章。</p> : null}

  {articles.map((a) => (
    <div style="padding: 1rem 0; border-bottom: 1px solid rgba(127,127,127,.25);">
      <div><a href={`/a/${a.slug}`}>{a.title}</a></div>
      <div class="meta">
        <span>{a.date ?? ''}</span>
        {a.sourceUrl ? (
          <span>
            {' '}·{' '}
            <a href={a.sourceUrl} target="_blank" rel="noreferrer">原文</a>
          </span>
        ) : null}
      </div>
    </div>
  ))}
</Base>
